{"ast":null,"code":"var _jsxFileName = \"/Users/vhonnaraddi/projects/hotel-management/app/javascript/components/Hotel/index.js\",\n    _this = this;\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React, { useState, useEffect } from 'react';\nimport AvailbaleRoom from '../AvailableRoom';\nimport Loader from '../Loader';\nimport classes from './styles.module.css';\n\nvar Home = function Home() {\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      rooms = _useState2[0],\n      setRooms = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  useEffect(function () {\n    var url = \"/hotels/1/available_rooms\";\n    fetch(url).then(function (response) {\n      if (response.ok) {\n        return response.json();\n      }\n\n      throw new Error(\"Network response was not ok.\");\n    }).then(function (response) {\n      setRooms(response);\n      setLoading(false);\n    })[\"catch\"](function () {\n      return console.log('An error occurred while fetching the rooms');\n    });\n  }, []);\n\n  var handleCheckin = function handleCheckin() {\n    var url = \"/hotels/1/checkin\";\n    var data = {\n      \"user\": {\n        \"name\": \"veeresh\",\n        \"address\": \"Bangalore\"\n      }\n    };\n    fetch(url, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    }); //TODO need to refresh only button object\n\n    window.location.reload(false);\n  };\n\n  var handleCheckout = function handleCheckout() {\n    var url = \"/hotels/1/checkout\";\n    var data = {\n      \"user\": {\n        \"name\": \"veeresh\",\n        \"address\": \"Hubli\"\n      }\n    };\n    fetch(url, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    }); //TODO need to refresh only button object\n\n    window.location.reload(false);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, \"Hotel Royal Rock!\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, \"Hurry!!! Limited Rooms Availbale\"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }), loading ? /*#__PURE__*/React.createElement(Loader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 19\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(AvailbaleRoom, {\n    rooms: rooms,\n    onAdd: handleCheckin,\n    onRemove: handleCheckout,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  })));\n};\n\nexport default Home;","map":{"version":3,"sources":["/Users/vhonnaraddi/projects/hotel-management/app/javascript/components/Hotel/index.js"],"names":["React","useState","useEffect","AvailbaleRoom","Loader","classes","Home","rooms","setRooms","loading","setLoading","url","fetch","then","response","ok","json","Error","console","log","handleCheckin","data","method","headers","body","JSON","stringify","window","location","reload","handleCheckout","container"],"mappings":";;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,aAAP,MAA0B,kBAA1B;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,OAAP,MAAoB,qBAApB;;AAEA,IAAMC,IAAI,GAAI,SAARA,IAAQ,GAAM;AAAA,kBACQL,QAAQ,CAAC,EAAD,CADhB;AAAA;AAAA,MACXM,KADW;AAAA,MACJC,QADI;;AAAA,mBAEYP,QAAQ,CAAC,IAAD,CAFpB;AAAA;AAAA,MAEXQ,OAFW;AAAA,MAEFC,UAFE;;AAIlBR,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMS,GAAG,GAAG,2BAAZ;AACAC,IAAAA,KAAK,CAACD,GAAD,CAAL,CACGE,IADH,CACQ,UAAAC,QAAQ,EAAI;AAChB,UAAIA,QAAQ,CAACC,EAAb,EAAiB;AACf,eAAOD,QAAQ,CAACE,IAAT,EAAP;AACD;;AACD,YAAM,IAAIC,KAAJ,CAAU,8BAAV,CAAN;AACD,KANH,EAOGJ,IAPH,CAOQ,UAAAC,QAAQ,EAAI;AAChBN,MAAAA,QAAQ,CAACM,QAAD,CAAR;AACAJ,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD,KAVH,WAWS;AAAA,aAAMQ,OAAO,CAACC,GAAR,CAAY,4CAAZ,CAAN;AAAA,KAXT;AAYD,GAdQ,EAcN,EAdM,CAAT;;AAgBA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC1B,QAAMT,GAAG,GAAG,mBAAZ;AACA,QAAMU,IAAI,GAAG;AACX,cAAQ;AACN,gBAAQ,SADF;AAEN,mBAAW;AAFL;AADG,KAAb;AAMAT,IAAAA,KAAK,CAACD,GAAD,EAAM;AACTW,MAAAA,MAAM,EAAE,KADC;AAETC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFA;AAKTC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,IAAf;AALG,KAAN,CAAL,CAR0B,CAe1B;;AACAM,IAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB;AACD,GAjBD;;AAmBA,MAAMC,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAC3B,QAAMnB,GAAG,GAAG,oBAAZ;AACA,QAAMU,IAAI,GAAG;AACX,cAAQ;AACN,gBAAQ,SADF;AAEN,mBAAW;AAFL;AADG,KAAb;AAMAT,IAAAA,KAAK,CAACD,GAAD,EAAM;AACTW,MAAAA,MAAM,EAAE,KADC;AAETC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFA;AAKTC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,IAAf;AALG,KAAN,CAAL,CAR2B,CAe3B;;AACAM,IAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB;AACD,GAjBD;;AAmBA,sBACE;AAAK,IAAA,SAAS,EAAExB,OAAO,CAAC0B,SAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAFF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,EAQItB,OAAO,gBAAG,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAH,gBACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,aAAD;AAAe,IAAA,KAAK,EAAEF,KAAtB;AAA6B,IAAA,KAAK,EAAEa,aAApC;AAAmD,IAAA,QAAQ,EAAEU,cAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CATN,CADF;AAiBD,CA3ED;;AA6EA,eAAexB,IAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport AvailbaleRoom from '../AvailableRoom';\nimport Loader from '../Loader';\nimport classes from './styles.module.css'\n\nconst Home  = () => {\n  const [rooms, setRooms] = useState({});\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const url = \"/hotels/1/available_rooms\";\n    fetch(url)\n      .then(response => {\n        if (response.ok) {\n          return response.json();\n        }\n        throw new Error(\"Network response was not ok.\");\n      })\n      .then(response => {\n        setRooms(response);\n        setLoading(false);\n      })\n      .catch(() => console.log('An error occurred while fetching the rooms'));\n  }, []);\n\n  const handleCheckin = () => {\n    const url = \"/hotels/1/checkin\";\n    const data = {\n      \"user\": {\n        \"name\": \"veeresh\",\n        \"address\": \"Bangalore\"\n      }\n    }\n    fetch(url, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    })\n    //TODO need to refresh only button object\n    window.location.reload(false);\n  }\n\n  const handleCheckout = () => {\n    const url = \"/hotels/1/checkout\";\n    const data = {\n      \"user\": {\n        \"name\": \"veeresh\",\n        \"address\": \"Hubli\"\n      }\n    }\n    fetch(url, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    })\n    //TODO need to refresh only button object\n    window.location.reload(false);\n  }\n\n  return (\n    <div className={classes.container}>\n      <h1>Hotel Royal Rock!</h1>\n      <p>\n       Hurry!!! Limited Rooms Availbale\n      </p>\n      \n      <hr/>\n      {\n        loading ? <Loader /> : (\n          <div>\n            <AvailbaleRoom rooms={rooms} onAdd={handleCheckin} onRemove={handleCheckout} /> \n          </div>\n        )\n      }\n  </div>\n  )\n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}